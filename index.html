<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ta-Te-Ti vs IA</title>

<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
}
#tablero {
    display: grid;
    grid-template-columns: repeat(3, 100px);
    gap: 10px;
    justify-content: center;
    margin: 20px;
}
.celda {
    width: 100px;
    height: 100px;
    font-size: 40px;
}
</style>
</head>

<body>

<h1>Ta-Te-Ti vs IA</h1>

<select id="nivel">
    <option value="facil">Fácil</option>
    <option value="medio">Medio</option>
    <option value="dificil">Difícil</option>
</select>

<div id="tablero"></div>
<p id="mensaje"></p>
<button onclick="reiniciar()">Reiniciar</button>

<script>
let tablero = Array(9).fill("");
const tableroDiv = document.getElementById("tablero");
const mensaje = document.getElementById("mensaje");

for (let i = 0; i < 9; i++) {
    let b = document.createElement("button");
    b.className = "celda";
    b.onclick = () => jugar(i, b);
    tableroDiv.appendChild(b);
}

function jugar(i, b) {
    if (tablero[i]) return;
    tablero[i] = "X";
    b.textContent = "X";
    if (ganador("X")) return fin("¡Ganaste!");
    if (empate()) return fin("Empate");
    setTimeout(turnoIA, 300);
}

function turnoIA() {
    let libres = tablero.map((v,i)=>v==""?i:null).filter(v=>v!=null);
    let mov = libres[Math.floor(Math.random()*libres.length)];
    tablero[mov] = "O";
    tableroDiv.children[mov].textContent = "O";
    if (ganador("O")) fin("Ganó la IA");
    if (empate()) fin("Empate");
}

function ganador(j) {
    const c = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    return c.some(l => l.every(i => tablero[i] === j));
}

function empate() {
    return tablero.every(c => c);
}

function fin(t) {
    mensaje.textContent = t;
}

function reiniciar() {
    tablero.fill("");
    mensaje.textContent = "";
    [...tableroDiv.children].forEach(b => b.textContent = "");
}
</script>

</body>
</html>


